## 03. 자바 스크립트 런타임 환경(엔진 이해, 스택 개념 정리)

<br>

#### 싱글 쓰레드? 멀티 쓰레드?

<b>자바스크립트 언어 자체는 싱글 쓰레드 언어</b>이므로 멀티 쓰레딩을 할 수 있는 방법은 없다. 하지만 <b>자바 스크립트가 동작하고 있는 브라우저라는 프로그램 안에서는 여러 가지 쓰레드가 들어있다</b>. 그래서 브라우저 즉 <b>웹 APIs</b> 들을 이용하면 멀티 쓰레딩이 가능하다. 그리고 자바 스크립트가 실행되는 실행 환경, 즉 런타임 환경에서는 <b>이벤트 루프</b>를 이용해 좀 더 다양한 동작을 실행할 수 있다.

웹 어플리케이션이 브라우저 위에 올라가는 순간, 자바 스크립트 엔진은 우리가 작성한 소스 코드를 한 줄 한줄씩 해석하고 분석하고 실행하게 된다.

<br>

---

<br>

#### 자바 스크립트 엔진

자바 스크립트 엔진에는 메모리 힙과 콜 스택으로 이루어져 있다.

![03](https://user-images.githubusercontent.com/75867748/109418491-f941cc80-7a0b-11eb-9ef2-c5122b13162f.png)

<br>

##### 메모리 힙

메모리 힙은 데이터를 만들 때, 즉 변수를 선언해서 오브젝트를 할당하거나 아니면 문자열이나 숫자를 할당하게 되면 그 <b>데이터들은 전부 다 메모리 힙에 저장</b>된다. 그리고 메모리 힙은 구조적으로 정리된 자료구조가 아니라 자료들이 여가지거 아무 곳에서나 저장이 되어 있다. 이렇게 할당된 데이터들이 메모리 힙에 들어가게 된다.

<br>

##### 콜 스택

콜스택은 <b>함수를 실행하는 순서에 따라 차곡차곡 쌓아놓는다</b>. 스택은 LIFO(Last In First Out) 형식이다. 콜 스택은 함수들이 호출하는 순서를 기억했다가 함수가 끝나면 원래 있던 자리로 돌아가기 위해서 쓰이는 자료구조 중 하나이다. 그리고 <b>모든 프로세스와 쓰레드 안에는 각각 저마다 콜스택이 들어가 있다</b>. 왜냐하면 일을 수행할 때 어디서 왔고 어디로 가야 되는지 정보를 기억해야 되기 때문이다.
