### 3xx - 리다이렉션 1

<br />

##### 3xx (Redirection) : 요청을 완료하기 위해 유저 에이전트의 추가 조치 필요

- 유저 에이전트 : 클라이언트 프로그램, 주로 웹브라우저
- 클라이언트가 요청을 했는데 서버가 요청을 완료하려면 무언가 추가적인 작업이 더 필요해서 클라이언트한테 다시 보내는 것.
  <br>
- 300 Multiple Choices
- 301 Moved Permanently
- 302 Found
- 303 See Other
- 304 Not Modiefied
- 307 Temporary Redirect
- 308 Permanent Redirect

<br>

### 리다이렉션 이해

- 웹브라우저는 3xx 응답의 결과에 Location 헤더가 있으면, Location 위치로 자동 이동(리다이렉트)

##### 자동 리다이렉트 흐름

- 예를 들어 이벤트 페이지가 있고 경로가 '/event' 이다. 그런데 새로운 페이지인 '/new-event'로 바뀌었다. 그런데 기존의 링크는 사용자가 북마크하거나 이미 공유가 되었을 수 있다. 따라서 클라이언트에게 경로 변경을 알려야 한다.
- 301 Moved Permanently
  Location: /new-event
- 이 경로로 웹브라우저가 스스로 경로를 바꾼 뒤 새로운 경로를 다시 요청한다(자동 리다이렉트)
- 그 이후로 서버는 다시 새로운 경로를 확인한 후 200 ok를 내린다.

##### 종류

- 영구 리다이렉션 - 특정 리소스의 URI가 영구적으로 이동
  - /members -> /users
  - /event -> /new-event
- 일시 리다이렉션 - 일시적인 변경
  - 주문 완료 후 주문 내역 화면으로 이동
  - PRG: Post/Redirect/Get
- 특수 리다이렉션
  - 클라이언트에 있는 캐시 기한이 완료된 거 같을 때, 생성 일자 등 캐시 관련 정보를 서버에게 넘겨줌
  - 그러면 서버가 아직 캐시 재다운로드 할 필요 없고 그대로 써도 된다고 말함. 현재 캐시에서 다시 조회하라고 시킴
  - 결과 대신 캐시를 사용

##### 영구 리다이렉션 301, 308

- 리소스의 URI가 영구적으로 이동
- 원래의 URL 사용X, 검색 엔진 등에서도 변경 인지
- 301 Moved Permanently
  - 리다이렉트시 요청 메서드가 GET으로 변하고, 본문이 제거될 수 있음(MAY)
  - 새로운 페이지를 보여주기 때문에 다시 정보를 입력해야
  - 실무에선 이걸 많이 사용
- 308 Permanent Redirect
  - 301과 기능은 같음
  - 리다이렉트시 요청 메서드와 본문 유지(처음 POST를 보내면 리다이렉트도)
