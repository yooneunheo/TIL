### 클라이언트에서 서버로 데이터 전송

<br />

##### 데이터 전달 방식

1. 쿼리 파라미터를 통한 데이터 전송
   - GET
   - 주로 정렬 필터(검색어)
2. 메시지 바디를 통한 데이터 전송
   - POST, PUT, PATCH
   - 회원 가입, 상품 주문, 리소스 등록, 리소스 변경

---

#### 1. 정적 데이터 조회

- 이미지, 정적 텍스트 문서
- 조회는 GET 사용
- 정적 데이터는 일반적으로 쿼리 파라미터 없이 리소스 경로로 단순하게 조회 가능
- 매우 단순한 구조. 클라이언트가 경로를 지정해주면 서버는 그 경로대로 가서 이미지 리소스를 만들어서 전송
- 정적 데이터를 조회할 때는 쿼리 파라미터를 쓰지 않고 추가적인 데이터 필요 없음

<BR/>

#### 2. 동적 데이터 조회

- 조회를 할 때 데이터를 전달해야할 경우가 있다.
- search라는 경로에 검색어와 같이 추가 조건(데이터)를 전달해야하는데 이때 쿼리 파라미터를 사용한다
- 쿼리 파라미터를 통해 서버에서 키-밸류로 꺼낸다. 그리고 정보를 찾아서 결과를 줌
- 주로 검색, 게시판 목록에서 정렬 필터(검색어)
- 조회 조건을 줄여주는 필터, 조회 결과를 정렬하는 정렬 조건에 주로 사용
- 조회는 GET 사용
- 실제 GET도 메시지 바디를 쓸 수 있긴 하지만 지원하지 않는 곳이 많아서 실무에선 지양하는 편
- GET은 쿼리 파라미터 사용해서 데이터 전달

<BR/>

#### 3. HTML Form을 통한 데이터 전송

- 회원 가입, 상품 주문, 데이터 변경
- 폼에서 SUBMIT 버튼을 누르면 클라이언트가 그 정보를 읽어서 HTTP 메시지를 생성한다.
- 쿼리 파라미터와 유사한 형식으로 키-밸류 스타일로 데이터를 만들어 HTTP 바디에 넣고 서버에 전송
  <BR>
- HTTP 파일 전송을 할 때 쓰는 타입이 있다. multipart/form-data.
- boundary는 구분선
- multypart이니 여러 타입의 데이터를 보낼 수 있다.
- 주로 바이너리 데이터를 전송할 때 사용
- 참고로 HTML Form은 POST와 GET만 사용 가능

<BR/>

#### 4. HTTP API를 통한 데이터 전송

- HTML Form을 사용하지 않는 거의 모든 상황
- 애플리케이션에서 클라이언트에서 서버로 바로 데이터를 전송할 때, HTTP API 데이터 전송하면 된다.
- 회원 가입, 상품 주문, 데이터 변경
- 서버 to 서버
  - 백앤드 시스템 통신
- 앱 클라이언트
  - 아이폰, 안드로이드
- 웹 클라이언트(ajax)
  - HTML에서 FORM 전송 대신 자바스크립트를 통한 통신에 사용(ajax)
  - (ex) react, vue 같은 웹 클라리언트와 API 통신
- POST, PUT, PATCH: 메시지 바디를 통해 데이터 전송
- GET : 조회, 쿼리 파라미터로 데이터 전달
- Content-Type: application/json을 주로 사용(사실상 표준)
  - TEXT, XML, JSON 등등

<BR>

#### HTTP API vs REST API

HTTP API와 REST API는 사실 거의 같은 의미로 사용됩니다.

그런데 디테일하게 들어가면 차이가 있습니다.

HTTP API는 HTTP를 사용해서 서로 정해둔 스펙으로 데이터를 주고 받으며 통신하는 것으로 이해하시면 됩니다.

그래서 상당히 넓은 의미로 사용됩니다.

반면에 REST API는 HTTP API에 여러가지 제약 조건이 추가됩니다.

REST는 다음 4가지 제약조건을 만족해야 합니다.

(https://ko.wikipedia.org/wiki/REST)

- 자원의 식별

- 메시지를 통한 리소스 조작

- 자기서술적 메서지

- 애플리케이션의 상태에 대한 엔진으로서 하이퍼미디어

여러가지가 있지만 대표적으로 구현하기 어려운 부분이 마지막에 있는 부분인데요. 이것은 HTML처럼 하이퍼링크가 추가되어서 다음에 어떤 API를 호출해야 하는지를 해당 링크를 통해서 받을 수 있어야 합니다.

그리고 이런 부분을 완벽하게 지키면서 개발하는 것을 RESTful API라고 하는데요. 실무에서 이런 방법으로 개발하는 것은 현실적으로 어렵고, 또 추가 개발 비용대비 효과가 있는 것도 아닙니다.

그런데 이미 많은 사람들이 해당 조건을 지키지 않아도 REST API라고 하기 때문에, HTTP API나 REST API를 거의 같은 의미로 사용하고 있습니다. 하지만 앞서 말씀드린 것 처럼 엄격하게 위의 내용들을 모두 지켜야 REST API라고 할 수 있습니다.(하지만 다들 HTTP API를 REST API라고 이미 하고 있기 때문에, 누군가 REST API라고 하면 그냥 아~ HTTP API를 이야기 하는구나 라고 생각하고 들으시면 됩니다. 물론 엄격하게는 다릅니다.)
